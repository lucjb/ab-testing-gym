<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="AB Temple - Interactive A/B Testing educational platform. Practice statistical analysis and decision making with simulated experiments.">
    <title>AB Temple</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2/dist/tailwind.min.css" rel="stylesheet">
    
    <!-- CDN Resources -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jstat/1.9.4/jstat.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Supabase SDK and backend helpers -->
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <script src="js/backend.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            try {
                Backend.init({ url: 'https://sbjeoqpmotjroptbegir.supabase.co', anonKey: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNiamVvcXBtb3Rqcm9wdGJlZ2lyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkxNzY1MDksImV4cCI6MjA3NDc1MjUwOX0.m-zwQHbSqAaFPFk0BQY_qoZisfUdjrwPYrRZC2EhdBI' });
            } catch (e) {
                console.error('Backend init failed', e);
            }
        });
    </script>
</head>

<body class="bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 min-h-screen">
    <!-- Game Container -->
    <div id="main-menu" class="min-h-screen flex items-center justify-center p-4">
        <div class="max-w-4xl w-full">
            <!-- Game Title -->
            <div class="text-center mb-12">
                <h1 class="text-8xl font-bold text-white mb-4 tracking-wider" style="text-shadow: 0 0 20px rgba(255,255,255,0.5);">
                    AB TEMPLE
                </h1>
                <p class="text-xl text-gray-300 mb-8">Master the Art of A/B Testing</p>
            </div>

            <!-- Navigation Menu -->
            <div class="space-y-6">
                <!-- Play Button -->
                <div class="text-center">
                    <button id="play-btn" class="game-button bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white font-bold py-6 px-12 rounded-xl text-2xl shadow-2xl transform hover:scale-105 transition-all duration-200">
                        üéÆ PLAY
                    </button>
                </div>

                <!-- Rankings Button -->
                <div class="text-center">
                    <a href="leaderboard.html" class="game-button bg-gradient-to-r from-yellow-500 to-orange-600 hover:from-yellow-600 hover:to-orange-700 text-white font-bold py-6 px-12 rounded-xl text-2xl shadow-2xl transform hover:scale-105 transition-all duration-200 inline-block">
                        üèÜ RANKINGS
                    </a>
                </div>

                <!-- How to Play Button -->
                <div class="text-center">
                    <a href="how-to-play.html" class="game-button bg-gradient-to-r from-blue-500 to-cyan-600 hover:from-blue-600 hover:to-cyan-700 text-white font-bold py-6 px-12 rounded-xl text-2xl shadow-2xl transform hover:scale-105 transition-all duration-200 inline-block">
                        üìñ HOW TO
                    </a>
                </div>
            </div>

            <!-- Game Description -->
            <div class="text-center mt-12">
                <p class="text-gray-300 text-lg max-w-2xl mx-auto">
                    Enter the temple of statistical wisdom. Test your decision-making skills against the masters of A/B testing. 
                    Will you rise to the top of the leaderboards?
                </p>
            </div>
        </div>
    </div>

    <!-- Game Section (for opponent selection) -->
    <div id="game-section" class="hidden">
        <div class="max-w-6xl mx-auto p-2 md:p-4">
            <!-- Competitor Selection -->
            <div class="mb-8">
                <h2 class="text-xl font-semibold mb-4 text-white">Choose Your Opponent</h2>
                <p class="text-gray-300 mb-4">Progressing through rounds proves your skills, but the real measure of
                    success is your impact on conversion rates. Compare your performance against different
                    decision-making approaches to see how your choices stack up in real-world scenarios:</p>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div class="competitor-card p-4 rounded-lg cursor-pointer transition-colors text-white"
                        style="background-color: #f97316;" data-competitor="HiPPO">
                        <h3 class="font-bold text-lg mb-2">HiPPO</h3>
                        <p class="text-white opacity-90">Makes decisions based on personal opinion, ignoring statistical
                            significance and data quality</p>
                    </div>
                    <div class="competitor-card p-4 rounded-lg cursor-pointer transition-colors text-white"
                        style="background-color: #f97316;" data-competitor="Random">
                        <h3 class="font-bold text-lg mb-2">Random</h3>
                        <p class="text-white opacity-90">Makes decisions randomly, without analyzing the data</p>
                    </div>
                    <div class="competitor-card p-4 rounded-lg cursor-pointer transition-colors text-white"
                        style="background-color: #f97316;" data-competitor="Naive">
                        <h3 class="font-bold text-lg mb-2">Naive</h3>
                        <p class="text-white opacity-90">Chooses the variant with the highest conversion rate at day 14,
                            ignoring confidence intervals and p-values</p>
                    </div>
                    <div class="competitor-card p-4 rounded-lg cursor-pointer transition-colors text-white"
                        style="background-color: #f97316;" data-competitor="Peek-a-boo">
                        <h3 class="font-bold text-lg mb-2">Peek-a-boo</h3>
                        <p class="text-white opacity-90">Peek-a-boo! Still not significant‚Ä¶ maybe tomorrow!</p>
                    </div>
                </div>
            </div>

            <div class="text-center">
                <button id="start-btn"
                    class="px-6 py-3 bg-blue-500 text-white font-semibold rounded-lg shadow hover:bg-blue-600 transition disabled:opacity-50 disabled:cursor-not-allowed"
                    disabled>
                    Start Session
                </button>
            </div>
        </div>
    </div>

    <!-- Challenge Container (hidden initially) -->
    <div id="challenge-container" class="hidden">
        <!-- This will be populated by the existing challenge content -->
    </div>

    <!-- Application Scripts -->
    <script src="js/challenge-generator.js"></script>
    <script src="js/chart-options.js"></script>
    <script src="js/confidence-intervals.js"></script>
    <script src="js/visualizations.js"></script>
    <script src="js/virtual-competitors.js"></script>
    <script src="js/ui-controller.js"></script>

    <script>
        // Game navigation logic
        document.addEventListener('DOMContentLoaded', function() {
            const playBtn = document.getElementById('play-btn');
            const mainMenu = document.getElementById('main-menu');
            const gameSection = document.getElementById('game-section');
            
            playBtn.addEventListener('click', function() {
                // Hide the main menu and show the game section
                mainMenu.style.display = 'none';
                gameSection.classList.remove('hidden');
                gameSection.style.background = 'linear-gradient(135deg, #1e3a8a 0%, #1e40af 50%, #1d4ed8 100%)';
            });
        });
    </script>
</body>

</html>
